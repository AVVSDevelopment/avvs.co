<!DOCTYPE html><!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="ru"> <![endif]--><!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang="ru"> <![endif]--><!--[if IE 8]>         <html class="no-js lt-ie9" lang="ru"> <![endif]--><!--[if gt IE 8]><!--> <html class="no-js" lang="ru"> <!--<![endif]--><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"> <meta charset="utf-8">  <title>Angular.JS: основы создания директив | Блог Makeomatic: разработка сайтов и мобильных приложений</title> <meta name="author" content="Makeomatic">  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> <!-- For third-generation iPad with high-resolution Retina display: --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png"> <!-- For iPhone with high-resolution Retina display running iOS ≥ 7: --> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/apple-touch-icon-120x120-precomposed.png"> <!-- For iPhone with high-resolution Retina display running iOS ≤ 6: --> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png"> <!-- For first- and second-generation iPad: --> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png"> <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --> <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"> <meta name="description" content="ПодготовкаМодульная структураКак я уже писал ранее, AngularJS является достаточно структурированной библиотекой. Практически каждый элемент функциональности выделен в свой модуль: $http, $resource, $r">
<meta property="og:type" content="article">
<meta property="og:title" content="Angular.JS: основы создания директив">
<meta property="og:url" content="https://makeomatic.ru/blog/2013/08/17/AngularJSAdvanced/index.html">
<meta property="og:site_name" content="Блог Makeomatic: разработка сайтов и мобильных приложений">
<meta property="og:description" content="ПодготовкаМодульная структураКак я уже писал ранее, AngularJS является достаточно структурированной библиотекой. Практически каждый элемент функциональности выделен в свой модуль: $http, $resource, $r">
<meta property="og:updated_time" content="2016-01-07T21:22:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Angular.JS: основы создания директив">
<meta name="twitter:description" content="ПодготовкаМодульная структураКак я уже писал ранее, AngularJS является достаточно структурированной библиотекой. Практически каждый элемент функциональности выделен в свой модуль: $http, $resource, $r">
<meta name="twitter:creator" content="@makeomatic">
<link rel="publisher" href="https://plus.google.com/+MakeomaticRu">   <link href='//fonts.googleapis.com/css?family=Roboto:300,700&subset=latin,cyrillic,cyrillic-ext' rel='stylesheet' type='text/css'>  <link rel="stylesheet" href="/css/app.min.2.1.0.css">  <script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script> <!-- place this in your head tag --> <!-- <script src='https://js.tito.io/v1' async></script> --> <!-- <link rel="stylesheet" type="text/css" href='https://css.tito.io/v1' /> --></head><body data-spy="scroll" data-target=".navbar" data-offset="150"><!--[if lt IE 8]><p class="chromeframe">Вы используете <strong>устаревший</strong> браузер. Пожалуйста <a href="http://browsehappy.com/">обновите ваш браузер</a> или <a href="http://www.google.com/chromeframe/?redirect=true">активируйте Google Chrome Frame</a>, чтобы улучшить ваши впечатления от посещения сайта.</p><![endif]--><header class="navbar navbar-inverse navbar-fixed-top"> <div class="navbar-inner"> <div class="container"> <div class="social-desktop"> <a class="fcb" href="https://www.facebook.com/makeomatic"> <i class="fa fa-facebook"></i> </a> <a class="vk" href="https://vk.com/makeomatic"> <i class="fa fa-vk"></i> </a> <a class="twt" href="https://twitter.com/MakeOmatic"> <i class="fa fa-twitter"></i> </a> <a class="gp" href="https://google.com/+MakeomaticRu"> <i class="fa fa-google-plus-square"></i> </a> </div> <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> <a class="brand" href="/">makeomatic</a> <div class="nav-collapse collapse"> <ul class="nav">   <li class='active '> <a href="/blog" > Блог  </a>  </li>   <li class=' dropdown'> <a href="/team" data-target="#" class="dropdown-toggle" data-toggle="dropdown"> Команда  <b class='caret'></b>  </a>  <ul class='dropdown-menu'>   <li> <a href="/team#vyacheslavgusev">Вячеслав Гусев</a> </li>   <li> <a href="/team#vitaliiaminev">Виталий Аминев</a> </li>   <li> <a href="/team#annaamineva">Анна Аминева</a> </li>   <li> <a href="/team#andreiafoninskii">Андрей Афонинский</a> </li>   <li> <a href="/team#aleksandrkremenets">Александр Кременец</a> </li>   <li> <a href="/team#dmitriigorbunov">Дмитрий Горбунов</a> </li>   <li> <a href="/team#evgeniipoyarkov">Евгений Поярков</a> </li>   <li> <a href="/team#ilyaovsyannikov">Илья Овсянников</a> </li>  </ul>  </li>   <li class=' '> <a href="/#about" > О нас  </a>  </li>   <li class=' dropdown'> <a href="/#portfolio" data-target="#" class="dropdown-toggle" data-toggle="dropdown"> Портфолио  <b class='caret'></b>  </a>  <ul class='dropdown-menu'>   <li> <a href="/#Distribut.io">Distribut.io</a> </li>   <li> <a href="/#Recordi">Recordi</a> </li>   <li> <a href="/#Photobot">Photobot</a> </li>   <li> <a href="/#BrainsApp">BrainsApp</a> </li>   <li> <a href="/#FabrikaTepla">FabrikaTepla</a> </li>   <li> <a href="/#SpeakGeo">SpeakGeo</a> </li>   <li> <a href="/#OpenInclude">OpenInclude</a> </li>   <li> <a href="/#LIVEONE">LIVEONE</a> </li>   <li> <a href="/#FitCafe">FitCafe</a> </li>  </ul>  </li>   <li class=' '> <a href="/#tech" > Технологии  </a>  </li>   <li class=' '> <a href="#contacts" > Контакты  </a>  </li>  </ul> </div><!--/.nav-collapse --> <div class='send-brief' > <a href='#brief' role='button' data-toggle='modal'> <i class='background'></i> <span>Заполнить бриф</span> </a> </div> <h4 class='phone-desktop'> Звоните: +7 (495) 79-222-44 </h4> </div> </div></header><div class="icon-up visible-desktop" id="up" title="наверх"></div><section class="container blog" id='blog'> <h1 class='outlined-caption text-center'> <a href='/blog'>Блог Makeomatic: разработка сайтов и мобильных приложений</a> </h1>  <div class='row'> <div class='span10'><article class="post"> <div class="post-content"> <header class='post-header'>   <h2 class="title">Angular.JS: основы создания директив</h2> <p class='muted'>концепции и практическое применение</p>   <div class="icon"></div> <time datetime="2013-08-16T21:00:00.000Z"> Aug 17 2013 </time>   <div class="tags"> | Категории: <a href="/blog/tags/AngularJS/">AngularJS</a> </div> <span class='author'><img src='//www.gravatar.com/avatar/3a2726c7eb6c74fec78f3a106a06e119?s=20' /> Дмитрий Горбунов</span>  </header> <section class="body">  <h2 id="Подготовка">Подготовка</h2><h3 id="Модульная_структура">Модульная структура</h3><p>Как я уже писал ранее, AngularJS является достаточно структурированной библиотекой. Практически каждый элемент функциональности выделен в свой модуль: $http, $resource, $route, $location и так далее. Фактически сама библиотека сконцентрирована в модуле Core. Подключать его не нужно (как и многие другие модули, вроде $http), поскольку он входит в основу библиотеки.</p>
<p>Начиная с версии 1.1.6 модуль $route нужно подключать отдельно, поскольку было принято решение исключить его из ядра и впоследствии объединить с модулем ui.state от команды AngularUI.</p>
<h3 id="Расширение_функциональности">Расширение функциональности</h3><p>Следует заметить, что вызов <code>angular.module</code> может работать по-разному в зависимости от переданных ему параметров. Если переданное первым параметром имя модуля соответствует уже существующему модулю, то вызов вернёт ссылку <em>на этот модуль</em>, если же такого модуля нет, то он предварительно <em>будет создан</em>.</p>
<p>Это позволяет держать код в разных файлах и не заботиться о последовательности их подключения/склейки. Достаточно лишь в начале каждого файла написать</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myModule = angular.module(<span class="string">"MyModule"</span>)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>Разумеется, можно подключать и зависимости, их наличие не влияет на работу функции <code>angular.module</code>.</p>
<h3 id="Настройка_модуля">Настройка модуля</h3><p>Каждый модуль ведёт себя как полноценный элемент приложения и сам может являться приложением (об этом говорилось ранее). Разумеется, что модули можно настраивать, меняя их поведение в зависимости от ситуации. Для этого предназначено две функции:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">myModule.run(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// код, находящийся здесь, будет выполнен на этапе создания модуля</span></span><br><span class="line">    <span class="comment">// сразу после того, как будут подгружены все зависимости</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// например, здесь можно запросить с сервера данные, важные для всего модуля</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">myModule.config(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// в этой функции можно настроить поведение провайдеров</span></span><br><span class="line">    <span class="comment">// крайне важная функция, к ней мы ещё вернёмся</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Провайдер">Провайдер</h2><p>Провайдеры являются фабриками классов. Они создают готовые объекты, которые можно внедрять с помощью DI. Провайдеры являются основным способом расширения функциональности AngularJS. По своей сути, провайдер представляет собой объект, в котором находится единственная обязательная функция с строго регламентированным именем: <code>$get</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">someProvider</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$get = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">42</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Помимо того, провайдер может включать любые методы, с помощью которых можно настроить создание объектов. Объекты, создаваемые провайдером, обычно называются <em>сервисы</em>.</p>
<p>Функция <code>$get</code> вызывается инъектором в процессе внедрения зависимостей. Поэтому если написать её тем или иным способом, то можно получить разные результаты: например, всякий раз будет создаваться новый объект, а может и отдаваться ссылка на один и тот же общий. Второй вариант широко применяется для обмена данными между разными частями приложения/модуля.</p>
<p>Для доступа к самому провайдеру следует добавить к имени сервиса слово <code>Provider</code>. Например, <code>$httpProvider</code>. Следует заметить, что далеко не у всех сервисов есть свой отдельный провайдер, к которому можно получить доступ, как в примере выше.</p>
<h3 id="Константа">Константа</h3><p>Константа — это сервис, представляющий собой некую константу. Пример такого сервиса можно увидеть выше. Однако в AngularJS существуют функции для более удобного создания объектов, не имеющих отдельного провайдера, который не нужно настраивать. Для создания сервиса, отдающего некую константу, можно воспользоваться функцией <code>module.value</code>, выглядит это так:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myModule.value(<span class="string">"TheAnswer"</span>, <span class="number">42</span>)</span><br></pre></td></tr></table></figure>
<p>Эта запись эквивалентна следующей:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">someProvider</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$get = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">42</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myModule.provide(<span class="string">"TheAnswer"</span>, someProvider)</span><br></pre></td></tr></table></figure>
<p>С той лишь разницей, что сокращённая запись не позволяет обращаться к <code>TheAnswerProvider</code> за ненадобностью. В качестве константы выступать может что угодно, главное не забывать, что это всегда будет одно и то же значение. Попробуйте проверить, что будет, если в качестве константы задать объект и менять его свойства из разных частей приложения.</p>
<h3 id="Фабрика">Фабрика</h3><p>Фабрика это усложнённый вариант константы. Фабрика позволяет не только вернуть некоторое значение, но ещё и предварительно выполнить некоторые действия.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">myModule.factory(<span class="string">"TheObject"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">TheAsnwer</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        property1: <span class="number">1</span>,</span><br><span class="line">        property2: <span class="number">2</span>,</span><br><span class="line">        answer: TheAnswer</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    obj.property3 = obj.property1 + obj.property2</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Обратите внимание, что я внедрил TheAsnwer в фабрику. Так же можно подключать любые зависимости. Сервисы могут и должны зависеть друг от друга.</p>
<p>Таким образом, я могу менять в некоторой степени поведение фабрики <code>TheObject</code>, поскольку она зависит от <code>TheAnswer</code>. Но лишь в некоторой степени.</p>
<h3 id="Сервис">Сервис</h3><p>Сервис это фабрика, которая всякий раз возвращает новый объект. Иными словами, запись</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myModule.factory(<span class="string">"TheService"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">TheObject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> service = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> service(TheObject)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Можно сократить до</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">service</span> (<span class="params">TheObject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.obj = TheObject</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myModule.service(<span class="string">"TheService"</span>, service)</span><br></pre></td></tr></table></figure>
<p>Но что если в этом случае мы хотим менять передаваемый в процессе создания сервиса параметр? В этом случае нам и нужен полноценный провайдер.</p>
<p>В сущности, AngularJS все вышеописанные методы реализует через вызов <code>module.provider</code>, они нужны лишь для удобства и сокращения записи. Полноценный сервис с провайдером же выглядит так:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">myModule.provider(<span class="string">"TheService"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">TheObject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = TheObject</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">service</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.setInitiator = <span class="function"><span class="keyword">function</span> (<span class="params">initiator</span>) </span>&#123;</span><br><span class="line">        o = initiator</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.$get = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> service(o)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherModule = angular(<span class="string">"AnotherModule"</span>, [<span class="string">"MyModule"</span>])</span><br><span class="line"></span><br><span class="line">anotherModule.configure([<span class="string">"TheServiceProvider"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">TheServiceProvider</span>) </span>&#123;</span><br><span class="line">    TheServiceProvider.setInitiator(&#123;</span><br><span class="line">        name: <span class="string">"another value"</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;])</span><br><span class="line"></span><br><span class="line">anotherModule.run(<span class="function"><span class="keyword">function</span>(<span class="params">TheService</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(TheService.obj)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// выведет &#123; name: "another value" &#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Директивы">Директивы</h2><p>Хорошо, но что если нам нужно не только сделать какой-то сервис или модуль. Что если мы хотим реализовать что-то подобное директиве ngRepeat? Разумеется, AngularJS позволяет делать и это.</p>
<p>Рассмотрим, что AngularJS делает, когда встречает:</p>
<ol>
<li>Выражение</li>
<li>DOM</li>
</ol>
<h3 id="$parse">$parse</h3><p>Эта функция превращает любое допустимое выражение AngularJS в <em>функцию</em>. Эту функцию затем можно вызвать, передав в неё 1 или 2 параметра:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> expr = $parse(<span class="string">"user.data"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(expr($scope))</span><br><span class="line"><span class="comment">// если $scope.user.data имеет значение, то оно будет выведено в консоль</span></span><br></pre></td></tr></table></figure>
<p>Вторым параметром можно передать локальные переменные, с помощью которых можно временно переопределить переменные внутри контекста — первого параметра.</p>
<p>Именно с помощью этой функции AngularJS и осуществляет связывание данных и вообще всё, что использует выражения.</p>
<p>В ваших приложениях эта функция вам почти никогда не понадобится, но знать о её существовании полезно.</p>
<h3 id="$compile">$compile</h3><p>$compile делает то же самое, что и $parse, но для HTML. Например</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> template = $compile(<span class="string">"&lt;p&gt;&#123; &#123; name &#125; &#125;&lt;/p&gt;"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(template(&#123;name: <span class="string">"Ivan"</span>&#125;))</span><br><span class="line"><span class="comment">// выведет &lt;p&gt;Ivan&lt;/p&gt;</span></span><br></pre></td></tr></table></figure>
<p>То есть это часть шаблонизатора AngularJS, осуществляющая привязку области видимости к шаблону.</p>
<p>Эта функция тоже вряд ли вам понадобится, но опять же знать о её существовании полезно.</p>
<h3 id="Первая_директива">Первая директива</h3><p>Теперь, когда мы знаем, как AngularJS обрабатывает выражения и HTML, можно попробовать написать первую директиву. Я не буду описывать все возможные параметры, опишу лишь те, что обычно используются.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">"greet"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        template: <span class="string">"&lt;p&gt;Привет, &#123; &#123; name &#125; &#125;&lt;/p&gt;"</span>,</span><br><span class="line">        replace: <span class="literal">true</span>,</span><br><span class="line">        scope: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">        link: <span class="function"><span class="keyword">function</span> (<span class="params">scope, element, attributes</span>) </span>&#123;</span><br><span class="line">            scope.name = <span class="string">"Иван"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;div greet&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>В результате работы этой директивы вместо <code>&lt;div&gt;</code> будет выведено <code>&lt;p&gt;Привет, Иван&lt;/p&gt;</code>. Параметр <code>replace</code> позволяет определить, будет ли директива целиком замещать DOM, которому применена, или же встраиваться внутрь него. Параметр <code>template</code> можно заменить на <code>templateUrl</code> и подключать шаблон из файла.</p>
<p>Наиболее важными параметрами здесь являются <code>scope</code> и <code>link</code>. Последний — это функция, осуществляющая привязку <code>scope</code> к шаблону (см. выше про <code>$compile</code>). Ну а <code>scope</code> позволяет изолировать область видимости внутри директивы. Эти два параметра следует указывать практически всегда.</p>
<p>Есть также параметр <code>compile</code>, который позволяет задать обработчик шаблона перед связыванием его с <code>link</code>, но он используется довольно редко.</p>
<h4 id="Процесс_компиляции_в_AngularJS">Процесс компиляции в AngularJS</h4><ol>
<li>Сначала шаблон парсится стандартными средствами браузера. Важно понять, что шаблон должен быть допустимым HTML, иначе ничего не заработает.</li>
<li>Вызывается <code>$compile</code>, который обрабатывает выражения и составляет список обнаруженных директив. Директивы для каждого тега сортируются в порядке важности (его можно указывать при разработке директивы), затем вызываются функции <code>compile</code> у каждой из директив. В этих функциях директива имеет возможность изменить DOM по своему усмотрению. Результатом этого этапа будет одна общая функция линковки, включающая в себя также и все функции <code>link</code> директив.</li>
<li>Вызывается функция, полученная на этапе 2, которая в свою очередь вызывает функции <code>link</code> всех директив, которые могут привязывать обработчики событий и т.д.</li>
<li>Получаем DOM с включенным двойным связыванием, который может динамически меняться.</li>
</ol>
<p>Директива практически всегда имеет функцию <code>link</code> и практически всегда не имеет функции <code>compile</code>.</p>
<h3 id="Полный_код_создания_директивы">Полный код создания директивы</h3><p>Хотя для простоты вы можете вообще возвращать в <code>angular.directive</code> функцию <code>link</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">"simple"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">scope, element, attributes</span>) </span>&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Это используется довольно редко. Чаще всего используется вариант из раздела «Первая директива». Однако есть и максимально полный вариант.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">'directiveName'</span>, <span class="function"><span class="keyword">function</span> <span class="title">factory</span>(<span class="params">injectables</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> directiveDefinitionObject = &#123;</span><br><span class="line">        <span class="comment">// приоритет директивы (см. выше)</span></span><br><span class="line">        priority: <span class="number">0</span>,</span><br><span class="line">        <span class="comment">// шаблон, заданный явно</span></span><br><span class="line">        template: <span class="string">'&lt;div&gt;&lt;/div&gt;'</span>,</span><br><span class="line">        <span class="comment">// шаблон, заданный в виде ссылки или выражения</span></span><br><span class="line">        templateUrl: <span class="string">'directive.html'</span>,</span><br><span class="line">        <span class="comment">// заменять ли исходный DOM на шаблон</span></span><br><span class="line">        replace: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// включить ли некоторые части исходного DOM в шаблон</span></span><br><span class="line">        transclude: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// ограничить применение директивы</span></span><br><span class="line">        restrict: <span class="string">'A'</span>,</span><br><span class="line">        <span class="comment">// создавать/не создавать замыкание области видимости</span></span><br><span class="line">        scope: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// контроллер для директивы</span></span><br><span class="line">        controller: <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $element, $attrs, $transclude, otherInjectables</span>) </span>&#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// здесь можно изменять исходный DOM</span></span><br><span class="line">        compile: <span class="function"><span class="keyword">function</span> <span class="title">compile</span>(<span class="params">tElement, tAttrs, transclude</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                pre: <span class="function"><span class="keyword">function</span> <span class="title">preLink</span>(<span class="params">scope, iElement, iAttrs, controller</span>) </span>&#123;&#125;,</span><br><span class="line">                post: <span class="function"><span class="keyword">function</span> <span class="title">postLink</span>(<span class="params">scope, iElement, iAttrs, controller</span>) </span>&#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// здесь находится основная функциональность директивы</span></span><br><span class="line">        link: <span class="function"><span class="keyword">function</span> <span class="title">postLink</span>(<span class="params">scope, iElement, iAttrs</span>) </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> directiveDefinitionObject</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Ограничение_применимости">Ограничение применимости</h3><p>Поскольку в AngularJS существует несколько способов добавить директивы в DOM, вы можете отключить некоторые из них для вашей директивы. Если параметр <code>restrict</code> не задан, то директивы можно добавлять лишь в качестве атрибутов к элементам HTML. Другие возможные значения выглядят так:</p>
<ul>
<li>E: только в качестве собственного элемента DOM: <code>&lt;my-directive&gt;&lt;/my-directive&gt;</code></li>
<li>A: в качестве атрибута: <code>&lt;div my-directive&gt;&lt;/div&gt;</code></li>
<li>C: в качестве CSS-класса: <code>&lt;div class=&quot;my-directive: value&quot;&gt;&lt;/div&gt;</code></li>
<li>M: в качестве комментария: <code>&lt;!-- directive: my-directive value --&gt;</code></li>
</ul>
<p>Эти значения можно комбинировать, например так: <code>restrict: &quot;AC&quot;</code>.</p>
<h3 id="Изоляция_области_видимости">Изоляция области видимости</h3><p>Изоляция области видимости обладает ещё одним крайне важным свойством: сокращение кода при получении параметров директивы. Рассмотрим уже известную директиву <code>greet</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">"greet"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$parse</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        template: <span class="string">"&lt;p&gt;Привет, &#123; &#123; name &#125; &#125;&lt;/p&gt;"</span>,</span><br><span class="line">        replace: <span class="literal">true</span>,</span><br><span class="line">        scope: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">        link: <span class="function"><span class="keyword">function</span>(<span class="params">scope, element, attributes</span>) </span>&#123;</span><br><span class="line">            scope.name = $parse(attributes[<span class="string">"greet"</span>])(scope)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;div greet=<span class="string">"Иван"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Как видно, для извлечения нужного значения требуется проделать довольно некрасивую операцию. К счастью, в AngularJS это можно сделать намного проще.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">"greet"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$parse</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        template: <span class="string">"&lt;p&gt;Привет, &#123; &#123; greet &#125; &#125;&lt;/p&gt;"</span>,</span><br><span class="line">        replace: <span class="literal">true</span>,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            greet: <span class="string">"@"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;div greet=<span class="string">"Иван"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Добавив к замыканию области видимости свойство, имя которого совпадает с именем атрибута (а директива это тоже атрибут), а значением является <code>@</code>, можно автоматически передать значение атрибута в замыкание. Только обратите внимание, что в шаблоне имя переменной тоже поменялось. В таком простом случае функцию <code>link</code> вообще можно удалить, что и было сделано.</p>
<p>Следует заметить, что если написать</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div greet=<span class="string">"&#123; &#123; someName &#125; &#125;"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>И определить <code>someName</code> где-то ещё, то директива заработает как и ожидается, но только в одну сторону. Можно поступить несколько иначе:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scope: &#123;</span><br><span class="line">    greet: <span class="string">"="</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div greet=<span class="string">"someName"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Такая запись позволяет осуществлять полноценное двойное связывание между директивой и внешним миром. Например, вы можете добавить <code>&lt;input ng-model=&#39;greet&#39;&gt;</code> в шаблон директивы и наблюдать, как <code>someName</code> вне её будет успешно меняться при изменении значения в поле ввода.</p>
<h4 id="Продвинутый_вариант_области_видимости">Продвинутый вариант области видимости</h4><p>Существует и ещё более продвинутый вариант изоляции области видимости, позволяющий не только связывать данные, но и передавать функциональность из внешнего контроллера в директиву.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">template: <span class="string">"&lt;button ng-click='greet()'&gt;Greet!&lt;/button&gt;"</span></span><br><span class="line">scope: &#123;</span><br><span class="line">    greet: <span class="string">"&amp;"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div greet=<span class="string">"sayHello()"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Где-то в контроллере</span><br><span class="line"></span><br><span class="line">$scope.sayHello = function() &#123; alert("Привет!") &#125;</span></span><br></pre></td></tr></table></figure>
<p>Однако и это ещё не всё. Мы можем передавать параметры методу, который вызывается из контроллера. Делается это довольно необычно:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">template: <span class="string">"&lt;input ng-model='name'&gt;&lt;button ng-click='greet(&#123;name: name&#125;)'&gt;Greet!&lt;/button&gt;"</span></span><br><span class="line">scope: &#123;</span><br><span class="line">    greet: <span class="string">"&amp;"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div greet=<span class="string">"sayHello(name)"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Где-то в контроллере</span><br><span class="line"></span><br><span class="line">$scope.sayHello = function(name) &#123; alert("Привет, " + name + "!") &#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>Важно</strong> Обратите внимание как передаются параметры в шаблоне директивы. Попробуйте создать две директивы и понаблюдать, как они будут работать независимо друг от друга:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div greet=<span class="string">"sayHello(name)"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">greet</span>=<span class="value">"sayHello(name)"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Вводимые в поле ввода имена будут уникальными для каждой директивы и не помешают друг другу, несмотря на несколько смущающую запись. <code>sayHello(name)</code> — параметр здесь это <em>имя свойства</em> объекта, передаваемого из директивы.</p>
<p>Всё вышеописанное легко достигается вообще без использования функции <code>link</code>. Однако если вы хотите самостоятельно обрабатывать некие события браузера, она вам понадобится.</p>
<h4 id="Что_на_самом_деле_делают_@,_=,_&amp;?">Что на самом деле делают @, =, &amp;?</h4><p><strong>@</strong> создаёт одностороннее связывание данных из родительской области видимости.</p>
<p><strong>=</strong> позволяет изолированному в области видимости идентификатору участвовать в связывании (обратите внимание, как сильно это отличается от @)</p>
<p><strong>&amp;</strong> создаёт <em>делегат</em>. Если вы работали с C#, то знакомы с понятием делегата. Если же нет, то я рекомендую обратиться к другим источникам, хотя в общем-то для работы с AngularJS это и не обязательно.</p>
<h3 id="Подмена">Подмена</h3><p>Предположим, что мы хотим создать директиву, показывающую диалоговое окно, внутри которого расположен произвольный HTML. В этом случае изоляции области видимости из атрибутов будет недостаточно. К счастью, AngularJS предлагает простую механику transclusion.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div dialog&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="title">h1</span>&gt;</span>Диалог<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">p</span>&gt;</span>Это диалог<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">angular.directive("dialog", function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        template: "<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">'dialog'</span> <span class="attribute">ng-transclude</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>",</span><br><span class="line">        replace: true,</span><br><span class="line">        transclude: true,</span><br><span class="line">        scope: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span></span><br></pre></td></tr></table></figure>
<p>Я намеренно опустил логику создания диалога и сильно упростил итоговый HTML в <code>template</code>. Для настоящей директивы понадобится добавить правильную разметку с кнопкой закрытия, кнопками действия (которые могут настраиваться через дополнительные атрибуты), повешать обработчики событий в функции <code>link</code> и т.д. Однако этот пример позволяет быстро понять, как пользоваться функцией подмены разметки.</p>
<p><em>Важно</em>: содержимое тега с директивой ngTransclude <strong>будет сохранено</strong>. Новая разметка будет добавлена к нему.</p>
<h3 id="Взаимодействие_директив">Взаимодействие директив</h3><p>Директивы могут взаимодействовать друг с другом с помощью контроллеров. Одна директива может зависеть от другой и вызывать методы и свойства её контроллера.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">myModule.directive(<span class="string">"capital"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        scope: &#123;</span><br><span class="line">            capital: <span class="string">"@"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        controller: <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">            $scope.tell = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log($scope.capital)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">myModule.directive(<span class="string">"country"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="built_in">require</span>: <span class="string">"capital"</span>,</span><br><span class="line">        scope: &#123;</span><br><span class="line">            country: <span class="string">"@"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// имя capitalController не важно, внедрение происходит</span></span><br><span class="line">        <span class="comment">// через require</span></span><br><span class="line">        link: <span class="function"><span class="keyword">function</span> (<span class="params">scope, element, attributes, capitalController</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(scope.country + <span class="string">" — "</span> + capitalController.tell())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;div country=<span class="string">"Россия"</span> capital=<span class="string">"Москва"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Читайте так же статьи по теме:</p>
<ul>
<li><a href="https://makeomatic.ru/blog/2014/01/06/AngulaJS_logging/">Улучшение логирования в AngularJS с помощью декораторов</a></li>
<li><a href="https://makeomatic.ru/blog/2014/03/28/Digest_angular/">Ускоряем $digest цикл в AngularJS</a></li>
<li><a href="https://makeomatic.ru/blog/2014/04/04/Initialization_angularjs/">Последовательная асинхронная инициализация AngularJS приложений с использованием промисов</a></li>
<li><a href="https://makeomatic.ru/blog/2014/01/30/Apply_in_AngularJS/">“Безопасный” $apply в Angular.JS</a></li>
<li><a href="https://makeomatic.ru/blog/2013/12/27/work_with_REST_API_AngularJS/">Работа с REST API в AngularJS</a></li>
<li><a href="https://makeomatic.ru/blog/2014/06/06/custom_filters_Angular/?ym_playback=linkmap&amp;ym_cid=15629977#more">Все о пользовательских фильтрах в AngularJS</a></li>
<li><a href="https://makeomatic.ru/blog/2014/05/21/ngMessage/#ym_playback=linkmap&amp;ym_cid=15629977">Как использовать ngMessages в AngularJS</a></li>
<li><a href="https://makeomatic.ru/blog/2014/04/22/Module_in_AngularJS/#ym_playback=linkmap&amp;ym_cid=15629977">Data service для работы с API в AngularJS</a></li>
<li><a href="https://makeomatic.ru/blog/2014/04/04/Initialization_angularjs/#ym_playback=linkmap&amp;ym_cid=15629977">Последовательная асинхронная инициализация Angular.JS приложений с использованием промисов</a></li>
<li><a href="https://makeomatic.ru/blog/2014/08/12/debugging_AngularJS_app/">Дебаггинг приложения на AngularJS через консоль</a></li>
<li><a href="https://makeomatic.ru/blog/2014/07/10/Angular_scope_rootScope/">Разбираемся с системой событий $emit, $broadcast и $on в $scope и $rootScope Ангуляра</a></li>
<li><a href="https://makeomatic.ru/blog/2015/01/05/Protractor_testing/">Эффективное сквозное тестирование с Protractor. Часть 1</a></li>
</ul>
  </section> <footer class='post-footer clearfix'>   <div class="addthis_toolbox addthis_default_style pull-right"> <a class="addthis_button_facebook"></a> <a class="addthis_button_twitter"></a> <a class="addthis_button_vk"></a> <a class="addthis_button_compact"></a> <a class="addthis_counter addthis_bubble_style"></a></div><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>  </footer> </div></article><section id="comment"> <h3 class="title">Комментарии</h3> <div id="disqus_thread"> <noscript>Включите Javascript, чтобы просмотреть <a href="//disqus.com/?ref_noscript">комментарии с помощью Disqus.</a></noscript> </div></section></div> <aside class="span2">  <div class="widget tag"> <h3 class="title">Тэги</h3> <ul class="unstyled">  <li> <span class='badge'>31</span> <a href="/blog/tags/AngularJS/"> AngularJS </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/CSS/"> CSS </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Chef/"> Chef </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Coffee-script/"> Coffee-script </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Cordova/"> Cordova </a> </li>  <li> <span class='badge'>5</span> <a href="/blog/tags/ElasticSearch/"> ElasticSearch </a> </li>  <li> <span class='badge'>5</span> <a href="/blog/tags/FAQ/"> FAQ </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/GitHub/"> GitHub </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/HTML5/"> HTML5 </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/ItProjects/"> ItProjects </a> </li>  <li> <span class='badge'>29</span> <a href="/blog/tags/Javascript/"> Javascript </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Mongoose/"> Mongoose </a> </li>  <li> <span class='badge'>9</span> <a href="/blog/tags/Node-js/"> Node.js </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/NodeJS/"> NodeJS </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Objective-C/"> Objective-C </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/PhoneGap/"> PhoneGap </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/RabbitMQ/"> RabbitMQ </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/SEO/"> SEO </a> </li>  <li> <span class='badge'>3</span> <a href="/blog/tags/SQL/"> SQL </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/YAC2014/"> YAC2014 </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/bash/"> bash </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/iOS7/"> iOS7 </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/jQuery/"> jQuery </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Бизнес-модель/"> Бизнес модель </a> </li>  <li> <span class='badge'>4</span> <a href="/blog/tags/Для-новичков/"> Для новичков </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Жизнь-компании/"> Жизнь компании </a> </li>  </ul></div></aside> </div></section> <!-- /container --><footer id='contacts' class='footer-main'> <div class='callback'> <div class='container'> <div class='row'> <div class='span12'> <h2 class='xlarge'>Есть вопросы или предложения?</h2> <p class='outlined-caption'>закажите обратный звонок и наш менеджер перезвонит вам</p> <form method='POST' action='/brief' id='callback'> <ul class='hidden error'></ul> <input type="text" name='name' placeholder="Как к вам обратиться?" class='span12' required /> <input type="text" name='phone' placeholder="По какому номеру звонить?" class='span6' /> <input type="email" name='email' placeholder="E-mail (опционально)" class='span6 pull-right' /> <textarea name='question' placeholder="Ваш вопрос (опционально)" class='span12'></textarea> <button type="submit" class='blue-plank'>Заказать звонок</button> </form> </div> </div> </div> </div> <div class='container'> <div class='row'> <div class='span6'> <h4 class='footer-caption'>Разделы сайта</h4> <ul class="nav inline">  <li><a href="/blog">Блог</a></li>  <li><a href="/team">Команда</a></li>  <li><a href="#about">О нас</a></li>  <li><a href="#portfolio">Портфолио</a></li>  <li><a href="#tech">Технологии</a></li>  <li><a href="#contacts">Контакты</a></li>  <li><a href='https://github.com/AVVSDevelopment/avvs.co'>Проект на GitHub</a></li> </ul> <p class='copyright'>Makeomatic, (c) 2012-2014<br/>Разработка сайтов и мобильных приложений</p> </div> <div class='span6 blue-line'> <h4 class='footer-caption'>Контакты</h4> <p> тел: +7 (495) 79-222-44 </p> <p> e-mail: <a href="mailto:getstarted@makeomatic.ru">getstarted@makeomatic.ru</a> </p> <address> Россия, Москва, Ленинский пр-т, дом 30а<br/>индекс: 111555 </address> <div class="social"> <a class="fcb fa-stack fa-lg" href="https://www.facebook.com/makeomatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </a> <a class="fa-stack fa-lg" href="http://vk.com/makeomatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-vk fa-stack-1x fa-inverse"></i> </a> <a class="twt fa-stack fa-lg" href="https://twitter.com/MakeOmatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </a> <a class="gp fa-stack fa-lg" href="https://google.com/+MakeomaticRu"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i> </a> </div> </div> </div> </div></footer><div class="modal hide fade brief" id='brief'> <div class="modal-body"> <div class='text-center'> <h2 class='brief-header outlined-caption'>Расскажите нам о вашем проекте</h2> <p class='small'> Коротко опишите ваши идеи или просто прикрепите файл с готовым ТЗ.<br/> Мы свяжемся с вами в течение 1 дня и подробно расскажем о том, как мы можем вам помочь. </p> </div> <form method='POST' action='/brief' class='callback'> <input type="text" name='name' placeholder="Как к вам обратиться?" class='span10' required /> <input type="text" name='phone' placeholder="По какому номеру звонить?" class='span5' /> <input type="email" name='email' placeholder="E-mail (опционально)" class='span5 pull-right' /> <textarea name='question' placeholder="Краткое описание вашего проекта" class='span7'></textarea> <div class='dropbox pull-right' id='dropbox' ></div> <button class="blue-plank pull-right" type='submit'>Отправить</button> </form> </div></div><!-- scripts --><script src="/js/app.min.2.1.0.js" charset="UTF-8" ></script><!-- end scripts --><script type="text/javascript">var disqus_shortname = 'makeomatic';(function(){ var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter15629977 = new Ya.Metrika({id:15629977, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/15629977?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><!-- google analytics --><script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-40638966-1', 'makeomatic.ru'); ga('send', 'pageview');</script></body></html>