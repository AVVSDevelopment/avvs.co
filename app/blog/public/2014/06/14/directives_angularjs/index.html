<!DOCTYPE html><!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="ru"> <![endif]--><!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang="ru"> <![endif]--><!--[if IE 8]>         <html class="no-js lt-ie9" lang="ru"> <![endif]--><!--[if gt IE 8]><!--> <html class="no-js" lang="ru"> <!--<![endif]--><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"> <meta charset="utf-8">  <title>Создаем директиву AngularJS из существующих плагинов&#47;скриптов | Блог Makeomatic: разработка сайтов и мобильных приложений</title> <meta name="author" content="Makeomatic">  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> <!-- For third-generation iPad with high-resolution Retina display: --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png"> <!-- For iPhone with high-resolution Retina display running iOS ≥ 7: --> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/apple-touch-icon-120x120-precomposed.png"> <!-- For iPhone with high-resolution Retina display running iOS ≤ 6: --> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png"> <!-- For first- and second-generation iPad: --> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png"> <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --> <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"> <meta name="description" content="Написание скриптов для ваших веб-сайтов или веб-приложений часто довольно простой процесс: вы пишите скрипт, приклеиваете файл к основному скрипту и подвязываете этот файл к DOM. Плевое дело, но когда">
<meta property="og:type" content="article">
<meta property="og:title" content="Создаем директиву AngularJS из существующих плагинов/скриптов">
<meta property="og:url" content="https://makeomatic.ru/blog/2014/06/14/directives_angularjs/index.html">
<meta property="og:site_name" content="Блог Makeomatic: разработка сайтов и мобильных приложений">
<meta property="og:description" content="Написание скриптов для ваших веб-сайтов или веб-приложений часто довольно простой процесс: вы пишите скрипт, приклеиваете файл к основному скрипту и подвязываете этот файл к DOM. Плевое дело, но когда">
<meta property="og:image" content="https://makeomatic.ru/blog/images/directives_angularjs.jpg">
<meta property="og:updated_time" content="2015-01-16T20:34:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Создаем директиву AngularJS из существующих плагинов/скриптов">
<meta name="twitter:description" content="Написание скриптов для ваших веб-сайтов или веб-приложений часто довольно простой процесс: вы пишите скрипт, приклеиваете файл к основному скрипту и подвязываете этот файл к DOM. Плевое дело, но когда">
<meta name="twitter:creator" content="@makeomatic">
<link rel="publisher" href="https://plus.google.com/+MakeomaticRu">  <link rel="alternate" hreflang="ru" href="https:&#47;&#47;makeomatic.ru&#47;blog&#47;2014&#47;06&#47;14&#47;directives_angularjs&#47;" />   <meta property="og:image:width" content="500" /> <meta property="og:image:height" content="307" />  <link href='//fonts.googleapis.com/css?family=Roboto:300,700&subset=latin,cyrillic,cyrillic-ext' rel='stylesheet' type='text/css'>  <link rel="stylesheet" href="/css/app.min.2.1.0.css">  <script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script> <!-- place this in your head tag --> <!-- <script src='https://js.tito.io/v1' async></script> --> <!-- <link rel="stylesheet" type="text/css" href='https://css.tito.io/v1' /> --></head><body data-spy="scroll" data-target=".navbar" data-offset="150"><!--[if lt IE 8]><p class="chromeframe">Вы используете <strong>устаревший</strong> браузер. Пожалуйста <a href="http://browsehappy.com/">обновите ваш браузер</a> или <a href="http://www.google.com/chromeframe/?redirect=true">активируйте Google Chrome Frame</a>, чтобы улучшить ваши впечатления от посещения сайта.</p><![endif]--><header class="navbar navbar-inverse navbar-fixed-top"> <div class="navbar-inner"> <div class="container"> <div class="social-desktop"> <a class="fcb" href="https://www.facebook.com/makeomatic"> <i class="fa fa-facebook"></i> </a> <a class="vk" href="https://vk.com/makeomatic"> <i class="fa fa-vk"></i> </a> <a class="twt" href="https://twitter.com/MakeOmatic"> <i class="fa fa-twitter"></i> </a> <a class="gp" href="https://google.com/+MakeomaticRu"> <i class="fa fa-google-plus-square"></i> </a> </div> <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> <a class="brand" href="/">makeomatic</a> <div class="nav-collapse collapse"> <ul class="nav">   <li class='active '> <a href="/blog" > Блог  </a>  </li>   <li class=' dropdown'> <a href="/team" data-target="#" class="dropdown-toggle" data-toggle="dropdown"> Команда  <b class='caret'></b>  </a>  <ul class='dropdown-menu'>   <li> <a href="/team#vyacheslavgusev">Вячеслав Гусев</a> </li>   <li> <a href="/team#vitaliiaminev">Виталий Аминев</a> </li>   <li> <a href="/team#annaamineva">Анна Аминева</a> </li>   <li> <a href="/team#andreiafoninskii">Андрей Афонинский</a> </li>   <li> <a href="/team#aleksandrkremenets">Александр Кременец</a> </li>   <li> <a href="/team#dmitriigorbunov">Дмитрий Горбунов</a> </li>   <li> <a href="/team#evgeniipoyarkov">Евгений Поярков</a> </li>   <li> <a href="/team#ilyaovsyannikov">Илья Овсянников</a> </li>  </ul>  </li>   <li class=' '> <a href="/#about" > О нас  </a>  </li>   <li class=' dropdown'> <a href="/#portfolio" data-target="#" class="dropdown-toggle" data-toggle="dropdown"> Портфолио  <b class='caret'></b>  </a>  <ul class='dropdown-menu'>   <li> <a href="/#Distribut.io">Distribut.io</a> </li>   <li> <a href="/#Recordi">Recordi</a> </li>   <li> <a href="/#Photobot">Photobot</a> </li>   <li> <a href="/#BrainsApp">BrainsApp</a> </li>   <li> <a href="/#FabrikaTepla">FabrikaTepla</a> </li>   <li> <a href="/#SpeakGeo">SpeakGeo</a> </li>   <li> <a href="/#OpenInclude">OpenInclude</a> </li>   <li> <a href="/#LIVEONE">LIVEONE</a> </li>   <li> <a href="/#FitCafe">FitCafe</a> </li>  </ul>  </li>   <li class=' '> <a href="/#tech" > Технологии  </a>  </li>   <li class=' '> <a href="#contacts" > Контакты  </a>  </li>  </ul> </div><!--/.nav-collapse --> <div class='send-brief' > <a href='#brief' role='button' data-toggle='modal'> <i class='background'></i> <span>Заполнить бриф</span> </a> </div> <h4 class='phone-desktop'> Звоните: +7 (495) 79-222-44 </h4> </div> </div></header><div class="icon-up visible-desktop" id="up" title="наверх"></div><section class="container blog" id='blog'> <h1 class='outlined-caption text-center'> <a href='/blog'>Блог Makeomatic: разработка сайтов и мобильных приложений</a> </h1>  <div class='row'> <div class='span10'><article class="post"> <div class="post-content"> <header class='post-header'>   <h2 class="title">Создаем директиву AngularJS из существующих плагинов&#47;скриптов</h2> <p class='muted'>Концепции и практическое применение</p>   <div class="icon"></div> <time datetime="2014-06-14T07:00:00.000Z"> Jun 14 2014 </time>   <div class="tags"> | Категории: <a href="/blog/tags/AngularJS/">AngularJS</a>, <a href="/blog/tags/Javascript/">Javascript</a> </div> <span class='author'><img src='//www.gravatar.com/avatar/20f85f2eff5b6d1983bc8b0d1cd37a42?s=20' /> Анна Аминева</span>  </header> <section class="body">  <p><img src="/blog/images/directives_angularjs.jpg" alt="Иллюстрация блокнота"></p>
<p>Написание скриптов для ваших веб-сайтов или веб-приложений часто довольно простой процесс: вы пишите скрипт, приклеиваете файл к основному скрипту и подвязываете этот файл к DOM. Плевое дело, но когда доходит до Ангуляра, здесь все совершенно иначе…<br><a id="more"></a></p>
<p>Никакие DOM манипуляции не должны осуществляться внутри Контроллера, а Контроллер - это та часть приложения, в котором случается большая часть “магии” ангуляра, канал коммуникации между данными Моделей и браузером. Может быть привлекательно просто засунуть ваш скрипт внутрь (и он будет отлично работать), но это против принципов Ангуляра.</p>
<p>Итак, далее следует описание того, как переносить один из ваших существующих скриптов в отлично сформированную директиву Ангуляра, что так же увеличивает читабельность кода и делает повторное использование кода чрезвычайно эффективным, так как Директивы полностью убирают куски повторяющегося кода.</p>
<p>Директивы - это ответ AngularJS “Теневому DOM” Веб Компонентов, который совместим со всеми браузерами (а не только с передовыми, в которых есть HTML5), приносящий вам силу будущей технологии сегодня. Shadow DOM внедряет новый контент в зависимости от элемента к которому он прикручен, обладает собственной областью видимости и стилями CSS. Добавляем неописуемо крутые механизмы поведения и это ровно то, что Директивы повторяют уже сейчас, чтобы сделать эту технологию доступной сегодня.</p>
<p><a href="http://jsfiddle.net/toddmotto/MvGyc/" target="_blank" rel="external">Demo jsFiddle</a><br>Определяем директиву:<br>Директивы очень просты в использовании после того, как вы их единожды настроите. Для целей этой демонстрации я собираюсь перенести <a href="http://toddmotto.com/fluid-and-responsive-youtube-and-vimeo-videos-with-fluidvids-js" target="_blank" rel="external">fluidvids.js</a> в Директиву AngularJS.</p>
<p>####Существующий код</p>
<p>Вот существующий код для скрипта, аннотированный ниже, чтобы показать, что делает каждая часть.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.fluidvids = (<span class="function"><span class="keyword">function</span> (<span class="params">window, document, undefined</span>) </span>&#123;</span><br><span class="line"><span class="pi"></span><br><span class="line">  'use strict'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span><br><span class="line">   * Constructor function</span><br><span class="line">   */</span></span><br><span class="line">  <span class="keyword">var</span> Fluidvids = <span class="function"><span class="keyword">function</span> (<span class="params">elem</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elem = elem;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span><br><span class="line">   * Prototypal setup</span><br><span class="line">   */</span></span><br><span class="line">  Fluidvids.prototype = &#123;</span><br><span class="line"></span><br><span class="line">    init : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> videoRatio = (<span class="keyword">this</span>.elem.height / <span class="keyword">this</span>.elem.width) * <span class="number">100</span>;</span><br><span class="line">      <span class="keyword">this</span>.elem.style.position = <span class="string">'absolute'</span>;</span><br><span class="line">      <span class="keyword">this</span>.elem.style.top = <span class="string">'0'</span>;</span><br><span class="line">      <span class="keyword">this</span>.elem.style.left = <span class="string">'0'</span>;</span><br><span class="line">      <span class="keyword">this</span>.elem.width = <span class="string">'100%'</span>;</span><br><span class="line">      <span class="keyword">this</span>.elem.height = <span class="string">'100%'</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> wrap = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">      wrap.className = <span class="string">'fluidvids'</span>;</span><br><span class="line">      wrap.style.width = <span class="string">'100%'</span>;</span><br><span class="line">      wrap.style.position = <span class="string">'relative'</span>;</span><br><span class="line">      wrap.style.paddingTop = videoRatio + <span class="string">'%'</span>;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">var</span> thisParent = <span class="keyword">this</span>.elem.parentNode;</span><br><span class="line">      thisParent.insertBefore(wrap, <span class="keyword">this</span>.elem);</span><br><span class="line">      wrap.appendChild(<span class="keyword">this</span>.elem);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span><br><span class="line">   * Initiate the plugin</span><br><span class="line">   */</span></span><br><span class="line">  <span class="keyword">var</span> iframes = <span class="built_in">document</span>.getElementsByTagName( <span class="string">'iframe'</span> );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; iframes.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> players = <span class="regexp">/www.youtube.com|player.vimeo.com/</span>;</span><br><span class="line">    <span class="keyword">if</span> (iframes[i].src.search(players) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">new</span> Fluidvids(iframes[i]).init();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure></p>
<p>###Код директивы</p>
<p>Для начала вам нужно понять как переструктурировать ваш код вместо небольшого API для добавления скрипта к каждому элементу в вашем селекторе/плагине. Не забудьте применять ваши изменения к единственному элементу в области видимости, так как Директивы используются для повторяющихся компонентов и, следовательно, могут часто встречаться в коде, соответственно, они ссылаются сами на себя, а не на список элементов (NodeList) для итерации.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Module</span></span><br><span class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>, []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// FluidVids Directive</span></span><br><span class="line">myApp.directive(<span class="string">'fluidvids'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'EA'</span>,</span><br><span class="line">    replace: <span class="literal">true</span>,</span><br><span class="line">    scope: &#123;</span><br><span class="line">      video: <span class="string">'@'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    template: <span class="string">'&lt;div class="fluidvids"&gt;'</span> +</span><br><span class="line">                <span class="string">'&lt;iframe ng-src="&#123;&#123; video &#125;&#125;"&gt;&lt;/iframe&gt;'</span> +</span><br><span class="line">              <span class="string">'&lt;/div&gt;'</span>,</span><br><span class="line">    link: <span class="function"><span class="keyword">function</span> (<span class="params">scope, element, attrs</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> ratio = (attrs.height / attrs.width) * <span class="number">100</span>;</span><br><span class="line">      element[<span class="number">0</span>].style.paddingTop = ratio + <span class="string">'%'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Я разберу написанное выше, для тех, кто заинтересован в этом. Директива возвращает Объект, в котором находится вся конфигурация, относительно данной конкретной директивы. Я использовал <code>restrict</code> со значением <code>EA</code>, то есть Элемент или Атрибут. Далее я использую <code>replace</code>, таким образом разметка, находящаяся в DOM заменяется кодом из директивы. Я использую <code>scope</code> как третье свойство, которое вы можете взять как имя вашего элемента. <code>@</code> означает то, что я использую ее как строку, которую, как вы видите, я использовал в моем маленьком шаблоне, встраиваемом в DOM с меняющимся <code>src</code> тега <code>video</code>. Я так же применяю <code>ng-src</code>, который Angular рекомендует для правильной обработки динамически созданных <code>src</code> атрибутов (в основном для старых браузеров, конечно). После этого я создаю маленькую функцию <code>link</code>, которая определяет любые манипуляции с DOM, после того как шаблон был создан. Вы так же можете привязать любые события именно здесь.</p>
<p>###Перемещение стилей JavaScript в CSS</p>
<p>Применение Angular директивы позволяет мне меньше использовать индивидуальные DOM манипуляции, так как вместо объектов JS со стилями я определяю CSS:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.fluidvids</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.fluidvids</span> <span class="tag">iframe</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Здесь нет соотношения сторон видео, так как этот параметр рассчитывается JS и добавляется в каждый индивидуальный элемент, что гарантирует каждому видео правильный показатель соотношения сторон, как и предполагается с любым контентом, внедряемым через iframe.</p>
<p>###Ошибки предрелизной версии при работе с кросс-доменным медиа контентом</p>
<p>Во время портирования FluidVids на AngularJS все очень просто тестировалось, наши руки не дошли до работы с  RC версией angular.js (версия 1.2.0-rc.2). На самом деле они сделали это, чтобы помочь вам, но вам нужен внутренний белый список для работы с внешними доменами, с которых вы будете получать медиа контент. Мы получили следующую ошибку при смене версии с 1.0.8 на 1.2.0-rc.2<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Error</span>: [$interpolate:interr] http:<span class="comment">//errors.angularjs.org/undefined/$interpolate/interr?p0=%7B%7B%20src%2…%24sce%2Finsecurl%3Fp0%3D%252F%252Fplayer.vimeo.com%252Fvideo%252F23919731</span></span><br></pre></td></tr></table></figure></p>
<p>После быстрого поиска в Google, мне понадобилось занести в белый список домены, которые я использую внутри AngularJS, в какой-то мере умный защитный ход (даже несмотря на слегка раздражающую ошибку) команд��. После некоторых исследований, я нашел, что кто-то написал следующий комментарий, в котором описан код добавления всех доменов в белый список:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myApp.config(<span class="function"><span class="keyword">function</span> (<span class="params">$sceDelegateProvider</span>) </span>&#123;  </span><br><span class="line">    $sceDelegateProvider.resourceUrlWhitelist([<span class="string">'.*'</span>]); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>###Пользовательские элементы или атрибуты (E или A, или оба!)</p>
<p>Если вы поддерживаете HTML5 Веб Компоненты или разработку только для HTML5 браузеров, тогда вы можете начать создавать собственные элементы, встроенные в HTML5.</p>
<p>Пользовательский элемент:<br><code>&lt;fluidvids video=&quot;//player.vimeo.com/video/23919731&quot; height=&quot;281&quot; width=&quot;500&quot;&gt;&lt;/fluidvids&gt;</code><br>As an attribute:</p>
<p>Как атрибут:<br><code>&lt;div fluidvids video=&quot;//player.vimeo.com/video/23919731&quot; height=&quot;281&quot; width=&quot;500&quot;&gt;&lt;/div&gt;</code></p>
<p>В зависимости от вашей команды или ее композиции, может быть проще использование одного метода или другого. Они не так различны, но мне кажется, что Веб Компоненты предлагают на удивление наиболее понятную семантику, несмотря на их свободную разметку, которая позволяет разработчику решать что и как писать. Веб Компоненты так же вводят и пользовательские атрибуты- используйте их, но не злоупотребляйте! ;)</p>
  </section> <footer class='post-footer clearfix'>   <div class="addthis_toolbox addthis_default_style pull-right"> <a class="addthis_button_facebook"></a> <a class="addthis_button_twitter"></a> <a class="addthis_button_vk"></a> <a class="addthis_button_compact"></a> <a class="addthis_counter addthis_bubble_style"></a></div><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>  </footer> </div></article><section id="comment"> <h3 class="title">Комментарии</h3> <div id="disqus_thread"> <noscript>Включите Javascript, чтобы просмотреть <a href="//disqus.com/?ref_noscript">комментарии с помощью Disqus.</a></noscript> </div></section></div> <aside class="span2">  <div class="widget tag"> <h3 class="title">Тэги</h3> <ul class="unstyled">  <li> <span class='badge'>31</span> <a href="/blog/tags/AngularJS/"> AngularJS </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/CSS/"> CSS </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Chef/"> Chef </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Coffee-script/"> Coffee-script </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Cordova/"> Cordova </a> </li>  <li> <span class='badge'>5</span> <a href="/blog/tags/ElasticSearch/"> ElasticSearch </a> </li>  <li> <span class='badge'>5</span> <a href="/blog/tags/FAQ/"> FAQ </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/GitHub/"> GitHub </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/HTML5/"> HTML5 </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/ItProjects/"> ItProjects </a> </li>  <li> <span class='badge'>29</span> <a href="/blog/tags/Javascript/"> Javascript </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Mongoose/"> Mongoose </a> </li>  <li> <span class='badge'>9</span> <a href="/blog/tags/Node-js/"> Node.js </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/NodeJS/"> NodeJS </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Objective-C/"> Objective-C </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/PhoneGap/"> PhoneGap </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/RabbitMQ/"> RabbitMQ </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/SEO/"> SEO </a> </li>  <li> <span class='badge'>3</span> <a href="/blog/tags/SQL/"> SQL </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/YAC2014/"> YAC2014 </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/bash/"> bash </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/iOS7/"> iOS7 </a> </li>  <li> <span class='badge'>2</span> <a href="/blog/tags/jQuery/"> jQuery </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Бизнес-модель/"> Бизнес модель </a> </li>  <li> <span class='badge'>4</span> <a href="/blog/tags/Для-новичков/"> Для новичков </a> </li>  <li> <span class='badge'>1</span> <a href="/blog/tags/Жизнь-компании/"> Жизнь компании </a> </li>  </ul></div></aside> </div></section> <!-- /container --><footer id='contacts' class='footer-main'> <div class='callback'> <div class='container'> <div class='row'> <div class='span12'> <h2 class='xlarge'>Есть вопросы или предложения?</h2> <p class='outlined-caption'>закажите обратный звонок и наш менеджер перезвонит вам</p> <form method='POST' action='/brief' id='callback'> <ul class='hidden error'></ul> <input type="text" name='name' placeholder="Как к вам обратиться?" class='span12' required /> <input type="text" name='phone' placeholder="По какому номеру звонить?" class='span6' /> <input type="email" name='email' placeholder="E-mail (опционально)" class='span6 pull-right' /> <textarea name='question' placeholder="Ваш вопрос (опционально)" class='span12'></textarea> <button type="submit" class='blue-plank'>Заказать звонок</button> </form> </div> </div> </div> </div> <div class='container'> <div class='row'> <div class='span6'> <h4 class='footer-caption'>Разделы сайта</h4> <ul class="nav inline">  <li><a href="/blog">Блог</a></li>  <li><a href="/team">Команда</a></li>  <li><a href="#about">О нас</a></li>  <li><a href="#portfolio">Портфолио</a></li>  <li><a href="#tech">Технологии</a></li>  <li><a href="#contacts">Контакты</a></li>  <li><a href='https://github.com/AVVSDevelopment/avvs.co'>Проект на GitHub</a></li> </ul> <p class='copyright'>Makeomatic, (c) 2012-2014<br/>Разработка сайтов и мобильных приложений</p> </div> <div class='span6 blue-line'> <h4 class='footer-caption'>Контакты</h4> <p> тел: +7 (495) 79-222-44 </p> <p> e-mail: <a href="mailto:getstarted@makeomatic.ru">getstarted@makeomatic.ru</a> </p> <address> Россия, Москва, Ленинский пр-т, дом 30а<br/>индекс: 111555 </address> <div class="social"> <a class="fcb fa-stack fa-lg" href="https://www.facebook.com/makeomatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </a> <a class="fa-stack fa-lg" href="http://vk.com/makeomatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-vk fa-stack-1x fa-inverse"></i> </a> <a class="twt fa-stack fa-lg" href="https://twitter.com/MakeOmatic"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </a> <a class="gp fa-stack fa-lg" href="https://google.com/+MakeomaticRu"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i> </a> </div> </div> </div> </div></footer><div class="modal hide fade brief" id='brief'> <div class="modal-body"> <div class='text-center'> <h2 class='brief-header outlined-caption'>Расскажите нам о вашем проекте</h2> <p class='small'> Коротко опишите ваши идеи или просто прикрепите файл с готовым ТЗ.<br/> Мы свяжемся с вами в течение 1 дня и подробно расскажем о том, как мы можем вам помочь. </p> </div> <form method='POST' action='/brief' class='callback'> <input type="text" name='name' placeholder="Как к вам обратиться?" class='span10' required /> <input type="text" name='phone' placeholder="По какому номеру звонить?" class='span5' /> <input type="email" name='email' placeholder="E-mail (опционально)" class='span5 pull-right' /> <textarea name='question' placeholder="Краткое описание вашего проекта" class='span7'></textarea> <div class='dropbox pull-right' id='dropbox' ></div> <button class="blue-plank pull-right" type='submit'>Отправить</button> </form> </div></div><!-- scripts --><script src="/js/app.min.2.1.0.js" charset="UTF-8" ></script><!-- end scripts --><script type="text/javascript">var disqus_shortname = 'makeomatic';(function(){ var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter15629977 = new Ya.Metrika({id:15629977, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/15629977?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --><!-- google analytics --><script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-40638966-1', 'makeomatic.ru'); ga('send', 'pageview');</script></body></html>