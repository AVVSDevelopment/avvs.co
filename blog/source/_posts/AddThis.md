title: Сервис "AddThis" замедляет вас?
date: 2013-12-05
author: Анна Аминева
gravatarMail: annafedotovaa@gmail.com
cover: http://makeomatic.ru/blog/images/addthis.jpg
coverWidth: 623
coverHeight: 416
url: http://makeomatic.ru/blog/2013/12/05/AddThis/
tags: [Javascript]
---

![Иллюстрация блокнота](/blog/images/addthis.jpg)

## Плагин "AddThis"
Если вы используете плагин **“AddThis”** на вашем сайте, то есть риск того, что он будет замедлять загрузку всех страниц. В частности, это случается, если вы выкладываете много статьей и у каждой из них есть кнопка “поделиться”. Причина тому - плагин, который делает несколько запросов к разным сайтам в сети, чтобы получить количество «лайков» в сетях. Их количество отображается рядом с кнопкой (кнопка должна размещаться локально на вашем сайте, иначе все будет грузиться еще дольше). Все это занимает время.

<!-- more -->

### Решение
Есть уловка, которую вы можете использовать, чтобы ускорить выполнение этой задачи в большинстве случаях. Хотя на вашем сайте могут быть и другие проблемы, способствующие понижению скорости вашей страницы. Попробуйте использовать наше решение и может быть вам оно поможет.
Для начала, нужно установить ваш **«addthis»** скрипт, который вставляется в ваши страницы блога или настройки плагина, если вы используете платформы типа Wordpress. Блог, который был сделан нами на заказ со вставленным скриптами **“AddThis”**, выглядит следующим образом:

```javascript
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=xa-4f3e33c72b9a4e40">
```

#### Дополнительные параметры
Следующий этап, который нам нужно сделать- это добавить пару дополнительных параметров, которые поменяют поведение кнопок **«AddThis»**. Код выглядит так:

`&async=1&domready=1`
Код должен быть добавлен в скрипт сразу после части с `pubid=XXXXX`, в итоге:

```javascript
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=xa-4f3e33c72b9a4e40&async=1&domready=1">
```

Если бы вы обновили станицу на данном этапе, вы не увидели бы кнопки **«AddThis»** - это потому, что была дана команда подождать, чтобы контент был полностью загружен и, что еще важнее, сейчас скрипт **addThis** должен быть инициализирован вручную. Добавьте следующий код перед закрывающимся тегом на вашей главной странице: 

```javascript
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
```
#### Добавление кнопок
Следует заметить, что эта поправка может и не ускорить ваш сайт. На нем могут быть другие проблемы, которые замедляют скорость загрузки или, как минимум, может казаться, что он грузится медленно. Сама сущность этих кнопок в том, что они будут загружаться асинхронно, каждая сама по себе. Они не будут блокировать остальной контент от загрузки. Итак, если ваша кнопка **AddThis** появилась позже, чем все остальное, в таком случае все хорошо и мы справились с задачей. 

Я надеюсь, что решение в статье оказалась для вас полезным.

Читайте так же статьи по теме: 

* [Javascript, работа с переменными и их типы](http://makeomatic.ru/blog/2013/11/09/variables/)
