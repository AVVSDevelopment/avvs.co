title: Сервис «AddThis” замедляет вас?
date: 2013-12-05
author: Анна Аминева
gravatarMail: annafedotovaa@gmail.com
tags: [Javascript]
---

## Плагин "AddThis"
Если вы используете плагин **“AddThis”** на вашем сайте, то есть риск того, что он будет замедлять загрузку всех страниц. В частности, это случается, если вы выкладываете много статьей, и у каждой из них есть кнопка “поделиться”. Причина тому - плагин, который делает несколько запросов к разным сайтам в сети, чтобы получить количество «лайков» в разных сетях. Их количество отображается рядом с кнопкой (кнопка должна размещаться локально на вашем сайте, иначе все будет грузиться еще дольше). Все это занимает время.

##Решение
Есть уловка, которую вы можете использовать, чтобы ускорить  выполнение этой задачи в большинстве случаях. Хотя на вашем сайте могут быть и другие проблемы, способствующие понижению скорости вашей страницы. Попробуйте использовать наше решение и может быть вам оно поможет.
Для начала,  вам нужно установить ваш **«addthis»** скрипт, который вставляется в ваши страницы блога или настройки плагина, если вы используете платформы типа Wordpress. Блог, который был сделан нами на заказ со вставленным скриптами **“AddThis”** выглядит следующим образом:

```
<script type="text/javascript"
src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=xa-4f3e33c72b9a4e40">
```

##Дополнительные параметры
Следущий этап, который нам нужно сделать - это добавить пару дополнительных параметров, которые поменяют поведение кнопок **«AddThis»**. Код выглядит так:

`&async=1&domready=1`
Код должен быть добавлен в скрипт сразу после части с `pubid=XXXXX`, в итоге все выглядит так:
```
<script type="text/javascript"
src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=xa- 4f3e33c72b9a4e40&async=1&domready=1">
```

Если бы вы обновили вашу станицу на данном этапе, вы не увидели бы кнопки **«AddThis»** - это потому, что была дана команда подождать, чтобы контент был полностью загружен и, что еще важнее, сейчас скрипт addThis должен быть инициализирован вручную. Добавьте следующий код перед закрывающимся тегом на вашей главной странице. 

```
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
```
## Добавление кнопок
Следует заметить, что эта поправка может и не ускорить ваш сайт. На нем могут быть другие проблемы, которые замедляют скорость загрузку или, как минимум, может казаться что он грузится медленно. Сама сущность этих кнопок в том, что они будут загружасть асинхронно, каждая сама по себе, они не будут блокировать остальной контент от загрузки. Итак, если ваша кнопка **AddThis** появилась позже, чем все остальное, в таком случае все хорошо и мы справились с задачей. 

Я надеюсь, что решение в статье оказалась для вас полезным.

